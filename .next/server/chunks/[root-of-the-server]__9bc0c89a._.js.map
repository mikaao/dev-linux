{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///root/src/app/api/pontos/%5Bcod_estacao%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport mysql from \"mysql2/promise\";\r\n\r\nexport const dynamic = \"force-dynamic\";\r\n\r\nexport async function GET(\r\n  _req: NextRequest,\r\n  context: { params: { cod_estacao: string } }\r\n) {\r\n  const sigla = context.params.cod_estacao.trim().toUpperCase(); // ex.: BGO2\r\n\r\n  try {\r\n    const conn = await mysql.createConnection({\r\n      host: \"127.0.0.1\",\r\n      user: \"root\",\r\n      password: \"@M1ch43l52\",\r\n      database: \"bancotr\",\r\n    });\r\n\r\n    const [rows] = await conn.execute<\r\n      { ID: string; TRADUCAO_ID: string; NPONTO: number; COD_ORIGEM: number | null }[]\r\n    >(\r\n      `SELECT\r\n         p.ID           AS id,\r\n         p.TRADUCAO_ID  AS descricao,\r\n         p.NPONTO       AS nPonto,\r\n         p.COD_ORIGEM   AS status\r\n       FROM id_ponto p\r\n       JOIN id_estacao e ON e.cod_estacao = p.cod_estacao\r\n       WHERE UPPER(TRIM(e.estacao)) = ?\r\n       ORDER BY p.NPONTO`,\r\n      [sigla]\r\n    );\r\n\r\n    await conn.end();\r\n\r\n    // RowDataPacket -> objeto literal\r\n    const pontos = (rows as any[]).map((r) => ({ ...r }));\r\n    return NextResponse.json(pontos);\r\n  } catch (err) {\r\n    console.error(err);\r\n    return NextResponse.json({ message: \"Erro interno\" }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAEhB,eAAe,IACpB,IAAiB,EACjB,OAA4C;IAE5C,MAAM,QAAQ,QAAQ,MAAM,CAAC,WAAW,CAAC,IAAI,GAAG,WAAW,IAAI,YAAY;IAE3E,IAAI;QACF,MAAM,OAAO,MAAM,mIAAA,CAAA,UAAK,CAAC,gBAAgB,CAAC;YACxC,MAAM;YACN,MAAM;YACN,UAAU;YACV,UAAU;QACZ;QAEA,MAAM,CAAC,KAAK,GAAG,MAAM,KAAK,OAAO,CAG/B,CAAC;;;;;;;;wBAQiB,CAAC,EACnB;YAAC;SAAM;QAGT,MAAM,KAAK,GAAG;QAEd,kCAAkC;QAClC,MAAM,SAAS,AAAC,KAAe,GAAG,CAAC,CAAC,IAAM,CAAC;gBAAE,GAAG,CAAC;YAAC,CAAC;QACnD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAe,GAAG;YAAE,QAAQ;QAAI;IACtE;AACF","debugId":null}}]
}